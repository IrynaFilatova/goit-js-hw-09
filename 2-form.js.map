{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\r\nlet formData = {\r\n  email: '',\r\n  message: '',\r\n};\r\nconst getFormData = () => {\r\n  try {\r\n    const formDataFromLS = JSON.parse(\r\n      localStorage.getItem('feedback-form-state')\r\n    );\r\n    if (!formDataFromLS) {\r\n      return;\r\n    }\r\n    formData = formDataFromLS;\r\n    console.log(formDataFromLS);\r\n    for (const key in formDataFromLS) {\r\n      form.elements[key].value = formDataFromLS[key];\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\ngetFormData();\r\n\r\nconst inputHandler = event => {\r\n  const { target: inputField } = event;\r\n  const fieldName = inputField.name;\r\n  const fieldValue = inputField.value.trim();\r\n  formData[fieldName] = fieldValue;\r\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\r\n};\r\n\r\nconst submitHandler = event => {\r\n  event.preventDefault();\r\n\r\n  if (!formData.email || !formData.message) {\r\n    alert('Fill please all fields');\r\n    return;\r\n  }\r\n  localStorage.removeItem('feedback-form-state');\r\n  formData = { email: '', message: '' };\r\n  form.reset();\r\n};\r\nform.addEventListener('input', inputHandler);\r\nform.addEventListener('submit', submitHandler);\r\n"],"names":["form","formData","getFormData","formDataFromLS","key","err","inputHandler","event","inputField","fieldName","fieldValue","submitHandler"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACA,MAAMC,EAAc,IAAM,CACxB,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EACI,GAAI,CAACA,EACH,OAEFF,EAAWE,EACX,QAAQ,IAAIA,CAAc,EAC1B,UAAWC,KAAOD,EAChBH,EAAK,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAEhD,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAH,IAEA,MAAMI,EAAeC,GAAS,CAC5B,KAAM,CAAE,OAAQC,CAAY,EAAGD,EACzBE,EAAYD,EAAW,KACvBE,EAAaF,EAAW,MAAM,KAAI,EACxCP,EAASQ,CAAS,EAAIC,EACtB,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACtE,EAEMU,EAAgBJ,GAAS,CAG7B,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CACD,aAAa,WAAW,qBAAqB,EAC7CA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCD,EAAK,MAAK,CACZ,EACAA,EAAK,iBAAiB,QAASM,CAAY,EAC3CN,EAAK,iBAAiB,SAAUW,CAAa"}